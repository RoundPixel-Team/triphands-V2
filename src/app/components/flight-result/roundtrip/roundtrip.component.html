<div class="roundtrip-container">
  <div *ngIf="flight[0].allJourney.flights[0] as data">  
        <mat-card class="flight-mat-card mt-3">
            <div class="card-content">
            
              <mat-card-content class="card-body">
                
            <div class="row">
               
                <div class="col-lg-9 col-sm-12 col-md-12 p-1">
                    <div class="flight-info-container">
                        <div class="first-flight">
                            <div class="row">
                                <div class="col-6">
                                    <div class="flight-time">
                                        {{ data.flightDTO![0].departureDate | date : "shortTime" }} -
                                        {{
                                          data.flightDTO![data.flightDTO!.length - 1].arrivalDate
                                            | date : "shortTime"
                                        }}
                                      </div>
                                </div>
                                <div class="col-6">
                                    <div class=" d-flex flight-duration">
                                        <div class="duration me-2">
                                          {{
                                            flight[0].totalDuration
                                              | hourminute
                                          }}
                                        </div>
                                        <div class="stops">
                                          <div
                                            *ngIf="data.stopsNum == 0"
                                          >
                                            ({{ "checkout.summaryCard.direct" | translate }})
                                          </div>
                                          <div
                                            *ngIf="data.stopsNum == 1"
                                          >
                                            ({{ "checkout.summaryCard.oneStop" | translate }})
                                          </div>
                                          <div
                                            *ngIf="data.stopsNum > 1"
                                          >
                                            ({{ "checkout.summaryCard.twoStops" | translate }})
                                          </div>
                                        </div>
                                      </div>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-lg-5 col-sm-12 flight-location">
                                    {{
                                      data.flightDTO![0].departureTerminalAirport.airportCode == "XNB"
                                        ? "Dubai"
                                        : data.flightDTO![0].departureTerminalAirport.cityName
                                    }}
                                    ({{ data.flightDTO![0].departureTerminalAirport.airportCode }}) -
                                    {{
                                      data.flightDTO![data.flightDTO!.length - 1]
                                        .arrivalTerminalAirport.cityName
                                    }}
                                    
                                    ({{
                                      data.flightDTO![data.flightDTO!.length - 1]
                                        .arrivalTerminalAirport.airportCode
                                    }})
                                  </div>
                            </div>
                            <div class="row mt-3">
                                <div class="d-flex align-items-center ">
                                    <img
                                    class=" me-2 airline-logo "
                                    src="{{ data.flightAirline!.airlineLogo }}"
                                  />
                                  <div class="logo-name">{{ data.flightAirline!.airlineName }}</div>
                                  </div>
                            </div>
                        </div>
                      <div class="second-flight mt-2" *ngIf="flight[0].allJourney.flights[1] as returnData">
                        <div class="row">
                            <div class="col-6">
                                <div class="flight-time">
                                    {{ returnData.flightDTO![0].departureDate | date : "shortTime" }} -
                                    {{
                                      returnData.flightDTO![returnData.flightDTO!.length - 1].arrivalDate
                                        | date : "shortTime"
                                    }}
                                  </div>
                            </div>
                            <div class="col-6">
                                <div class=" d-flex flight-duration">
                                    <div class="duration me-2">
                                      {{
                                        flight[0].totalDuration
                                          | hourminute
                                      }}
                                    </div>
                                    <div class="stops">
                                      <div
                                        *ngIf="returnData.stopsNum == 0"
                                      >
                                        ({{ "checkout.summaryCard.direct" | translate }})
                                      </div>
                                      <div
                                        *ngIf="returnData.stopsNum == 1"
                                      >
                                        ({{ "checkout.summaryCard.oneStop" | translate }})
                                      </div>
                                      <div
                                        *ngIf="returnData.stopsNum > 1"
                                      >
                                        ({{ "checkout.summaryCard.twoStops" | translate }})
                                      </div>
                                    </div>
                                  </div>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <div class="col-lg-5 col-sm-12 flight-location">
                                {{
                                  returnData.flightDTO![0].departureTerminalAirport.airportCode == "XNB"
                                    ? "Dubai"
                                    : returnData.flightDTO![0].departureTerminalAirport.cityName
                                }}
                                ({{ returnData.flightDTO![0].departureTerminalAirport.airportCode }}) -
                                {{
                                  returnData.flightDTO![returnData.flightDTO!.length - 1]
                                    .arrivalTerminalAirport.cityName
                                }}
                                
                                ({{
                                  returnData.flightDTO![returnData.flightDTO!.length - 1]
                                    .arrivalTerminalAirport.airportCode
                                }})
                              </div>
                        </div>
                        <div class="row mt-3">
                            <div class="d-flex align-items-center ">
                                <img
                                class=" me-2 airline-logo "
                                src="{{ returnData.flightAirline!.airlineLogo }}"
                              />
                              <div class="logo-name">{{ returnData.flightAirline!.airlineName }}</div>
                              </div>
                        </div>
                      </div>
                    </div>
                   
                </div>
           
               
                <div class="col-lg-3 col-sm-12 col-md-12 right-side-wrapper">
                    <div class="flight-price mt-2">
                        <span>{{flight[0].itinTotalFare.currencyCode | exchange:'code'}}&nbsp;</span>{{flight[0].itinTotalFare.amount | exchange:'value'}}

                    </div>
                    <div class="booknow mt-3"  
                   >
                        <button class="btn booknow-btn" (click)="toCheckout(
                          this.FlightResult.searchID,
                          flight[0].sequenceNum,
                          flight[0].pKey
                        )">{{"checkout.bookNow.fastBookBtn" | translate }}</button>
                    </div>
                    <div class="refund-state mt-3">
                        <div *ngIf="flight[0].isRefundable">
                            {{ "checkout.summaryCard.refundable" | translate }}
                          </div>
                          <div *ngIf="!flight[0].isRefundable">
                            {{ "checkout.summaryCard.nonRefundable" | translate }}
                          </div>
                    </div>

                </div>
            </div>
          </mat-card-content>
            </div>
              <div class="card-footer">
                <div class="card-footer-content">
                  <div class="col-lg-2 col-sm-1">
                  </div>
                  <div class="col-lg-4 col-sm-10">
                    <div class="more-flights" *ngIf="flight.length>1 && !moreFlights">
                      <div (click)="showMoreFlights()"
                      
                      >
                  
                        +{{flight.length -1}} {{"flightsResult.moreFlights" | translate }}
                      </div>
                    </div>
                    <div class="more-flights" *ngIf="flight.length>1 && moreFlights">
                      <div (click)="showMoreFlights()"
                     
                      >
                         {{"flightsResult.lessFlights" | translate }}
                      </div>
                    </div>
                    </div>
                  <div class="col-lg-2 col-sm-4 flight-details" (click)="toggleDetailsCard(
                    flight[0].allJourney.flights[0],
                    flight[0].sequenceNum

                  )">
                          {{ "checkout.summaryCard.flightDetails" | translate }}
                    
                  </div>
                </div>
              </div>
           
          </mat-card>
          <div *ngIf="showDetails">
            <mat-card class="mt-3 flight_details">
                <mat-card-content class="card-body">
                  <div class="row justify-content-end">
                    <button type="button" class="btn close-btn" (click)="toggleDetailsCard(flight[0].allJourney.flights[0],
                    flight[0].sequenceNum)">
                      <img class="img-fluid" src="../../../../assets/images/X.svg" />
                    </button>
                  </div>
                  
                  <mat-tab-group
                mat-align-tabs="start"
               
                >
                <mat-tab  label="{{'checkout.flightDetails.flightRoute' |translate}}">
                  <div class="flight_route mt-3">
                    <div *ngFor="let data of flight[0].allJourney.flights;
                    let flightIndex=index;">
                    <div class="main-route" >
                   <div class="row w-100"> 
                    <div class="main-date">{{data.flightDTO[0].arrivalDate | date : "mediumDate"}}</div>
                    <div class="col-md-10">
                      <div class="journey">
                        <div class="journey_From">
                          <span class="code">
                            {{
                              data.flightDTO[0].departureTerminalAirport
                                .airportCode
                            }} 
                          </span><span class="date">
                            {{
                              data.flightDTO[0].departureDate
                                | date : "shortTime"
                            }}
                          </span>
                         
                          <p class="airport_name">
                            {{
                              data.flightDTO[0].departureTerminalAirport
                                .airportName
                            }}
                          </p>
                        </div>
      
                        <div class="journey_to">
                          <span class="code">{{
                            data.flightDTO[
                              data.flightDTO.length - 1
                            ].arrivalTerminalAirport.airportCode
                          }}</span> <span class="date">
                            {{
                              data.flightDTO[
                                data.flightDTO.length - 1
                              ].arrivalDate | date : "shortTime"
                            }}
                          </span>
                         
                          <p class="airport_name">
                            {{
                              data.flightDTO[
                                data.flightDTO.length - 1
                              ].arrivalTerminalAirport.airportName
                            }}
                          </p>
                        </div>
                      </div>
                    </div>
      
                    <div class="col-md-2 mt-2 col-sm-8 d-flex justify-content-between">
                      <img
                        src="{{
                          data.flightDTO[0].flightAirline.airlineLogo
                        }}"
                        alt="airline logo"
                        title="airlineLogo"
                        class="airline-logo"
                      />
                      <button class="show-more-button" [class.expanded]="detailsStates[flightIndex]" (click)="detailsCollapse(flightIndex)">
                        <div class="arrow"></div>
                      </button>
                    </div>
                    
                     </div>
                     
                    </div>
                    
                    <hr *ngIf="flight[0].allJourney.flights.length -1  != flightIndex">
                    <div *ngIf="detailsStates[flightIndex]" class="details">
                      <div class="container">
                        <hr *ngIf="flight[0].allJourney.flights.length -1  == flightIndex">
                        <div class="timeline" *ngFor="let flightDetails of flight[0].allJourney.flights[index].flightDTO; let i = index">
                          <div class="dept_data">
                            <div class="row">
                              <div class="col-md-2 col-3">
                                <div class="details_departure_time">
                                  <span class="date">
                                    {{ flightDetails.departureDate | date : "MMM d" }}
                                  </span>
                                  <span class="time">
                                    {{ flightDetails.departureDate | date : "shortTime" }}
                                  </span>
                                </div>
                              </div>
                              <div class="col-1">
                                <div *ngIf="i == 0" >
                                  <img
                                  style="height: 65px;
                                 "
                                    src="../../../../assets/images/topCircleFilled.svg"
                                    class=""
                                    alt=""
                                    srcset=""
                                  />
                                </div>
                                <div *ngIf="i > 0"  >
                                  <img
                                  style="height: 65px;
                                 "
                                    src="../../../../assets/images/topCircleOutlined.svg"
                                    class=""
                                    alt=""
                                    srcset=""
                                  />
                                </div>
                              </div>
                              <div class=" col-8">
                                <div class="airport-name">
                                  {{ flightDetails.departureTerminalAirport.airportName }}
                                </div>
                              </div>
                            </div>
                          </div>
        
                          <div class="flight_data">
                            <div class="row mt-3 mb-3">
                              <div class="col-md-2 col-3">
                                <div class="flight-duration-time">
                                  {{ flightDetails.durationPerLeg | hourminute }}
                                </div>
                              </div>
        
                              <div class="col-1">
                                <div class="plane-icon">
                                  <img
                                    src="../../../../assets/images/plane.svg"
                                    alt=""
                                    class="img"
                                  />
                                </div>
                              </div>
        
                              <div class="col-8 align-self-center">
                                <div class="airport-info">
                                  <div class="row">
                                    <div class="col-12 col-md-12 col-lg-4">
                                      <div class="airline_logo">
                                        <img
                                          [src]="flightDetails.flightAirline.airlineLogo"
                                          class="img-fluid"
                                          alt=""
                                          srcset=""
                                        />
                                      </div>
                                    </div>
                                    <div class="text-start align-self-center col-7  col-md-4 col-lg-4">
                                      <div class="flight-number">
                                        <span class="">{{"checkout.flightDetails.flightNo" | translate}}</span> {{ flightDetails.flightInfo.flightNumber }}
                                      </div>
                                    </div>
                                    <div class="text-start align-self-center col-5 col-md-8 col-lg-4">
                                      <div class="cabin-class">
                                        {{ flightDetails.flightInfo.cabinClass }}
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="operatedAirline" *ngIf="flightDetails.operatedAirline.airlineName"> {{"checkout.flightDetails.operatedBy" | translate}}
                                  {{ flightDetails.operatedAirline.airlineName }}
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="arrival_data">
                            <div class="row">
                              <div class="col-md-2 col-3">
                                <div class="details_arrival_time">
                                  <span class="date">
                                    {{ flightDetails.arrivalDate | date : "MMM d" }}
                                  </span>
                                  <span class="time">
                                    {{ flightDetails.arrivalDate | date : "shortTime" }}
                                  </span>
                                </div>
                              </div>
        
                              <div class="col-1">
                                <div
                                  *ngIf="
                                    i !=
                                    flight[0].allJourney.flights[index].flightDTO
                                      .length -
                                      1
                                  "
                                >
                                  <img  style="height:65px"
                                    src="../../../../assets/images/bottomCircleOutlined.svg"
                                    alt=""
                                    srcset=""
                                  />
                                </div>
        
                                <div
                                  *ngIf="
                                    i ==
                                    flight[0].allJourney.flights[index].flightDTO
                                      .length -
                                      1
                                  "
                                >
                                  <img style="height:65px"
                                    src="../../../../assets/images/bottomCircleFilled.svg"
                                    alt=""
                                    srcset=""
                                  />
                                </div>
                              </div>
                              <div class="col-8">
                                <div class="airport-name">
                                  {{ flightDetails.arrivalTerminalAirport.airportName }}
                                </div>
                              </div>
                            </div>
                          </div>
                          <div
                          class="transit"
                          *ngIf="flightDetails.transitTime != '00:00:00'"
                        >
                          <div class="row">
                            <div class="col-md-2"></div>
                            <div class="col-md-9">
                              <div class="content">
                                {{ "checkout.flightDetails.Stopover" | translate }}
                                {{ flightDetails.transitTime  | durationToHourMin }}
                              </div>
                            </div>
                          </div>
                        </div>
                        </div>
                        <hr *ngIf="flight[0].allJourney.flights.length -1  != flightIndex">
                      </div> 
                      </div>
                    </div>
                    
                  </div>
                </mat-tab>
                <mat-tab  label="{{'checkout.flightDetails.fareRules' |translate}}">
                  <div class="fare-rules w-100">
                    <div class="row mb-2">
                      <div class="col-12 col-md-12 col-lg-6 mb-2">
                        <div class="cancellation">
                          <p class="cancel-text p-3 m-0">
                            {{ "checkout.flightDetails.cancel" | translate }}
                          </p>
                          <div class="content p-3">
                           
                            <ul>
                              <li>
                                {{ "checkout.flightDetails.cancelFareText" | translate }}
                              </li>
                            </ul>
                            <div class="d-flex justify-content-between pt-2">
                              <p>{{ "checkout.flightDetails.fareLabel" | translate }}</p>
                              <p class="text-price">
                                  
                                EGP 500
                              </p>
                            </div>
                          </div>
                        </div>
                      </div>
        
                      <div class="col-12 col-md-12 col-lg-6 mb-2">
                        <div class="cancellation"
                        >
                          <p class="cancel-text p-3 m-0">
                            {{ "checkout.flightDetails.change" | translate }}
                          </p>
                          <div class="content p-3">
                            
                            <ul>
                              <li>
                                {{ "checkout.flightDetails.changeFareText" | translate }}
                              </li>
                            </ul>
                            <div class="d-flex justify-content-between pt-2">
                              <p>{{ "checkout.flightDetails.fareLabel" | translate }}</p>
                              <p class="text-price">
                                EGP 500
                              </p>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </mat-tab>
                <mat-tab  label="{{'checkout.flightDetails.baggage' |translate}}">
                  <div class="baggage">
                    <div class="container">
                      <div class="row mt-3">
                        <div class="col-8 col-md-5 col-lg-5 col-xl-5">
                          <div class="row">
                            <div class="col-6 col-md-3 col-lg-3 col-xl-3">
                              <img
                                src="{{
                                    flight[0].allJourney.flights[index].flightDTO[0].flightAirline
                                    .airlineLogo
                                }}"
                                alt="airline logo"
                                title="airlineLogo"
                                class="airline-logo"
                              />
                            </div>
                            <div class="col-6 col-md-10 col-lg-9 col-xl-9">
                              <p class="airline-name">
                                {{
                                    flight[0].allJourney.flights[index].flightDTO[0].flightAirline
                                    .airlineName
                                }}
                              </p>
                            </div>
                          </div>
                        </div>
                        <div class="col-4 col-md-7 col-lg-7 col-xl-7">
                          <p class="CabinClass">{{"checkout.flightDetails.cabinBaggage" | translate}}</p>
                          <p class="CabinBagg">
                            {{ flight[0].baggageInformation[0].baggage }}
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </mat-tab>
        
        
                  </mat-tab-group>
                </mat-card-content>
            </mat-card>
          </div>
    </div>
         <!-- more flights cards and cards details data -->
         <div class="more-flights-container" *ngIf="moreFlights">
          <div
          *ngFor="let item of flight | slice : 1; let m = index">
          <div *ngIf="  item.allJourney.flights[0] as moreData">
            <mat-card class="flight-mat-card mt-3">
              <div class="card-content">
              
                <mat-card-content class="card-body">
              <div class="row">
                  <div class="col-lg-9 col-sm-12 col-md-12 p-1">
                    <div class="first-flight-container">
                      <div class="row">
                        <div class="col-6">
                            <div class="flight-time">
                                {{ moreData.flightDTO![0].departureDate | date : "shortTime" }} -
                                {{
                                  moreData.flightDTO![moreData.flightDTO!.length - 1].arrivalDate
                                    | date : "shortTime"
                                }}
                              </div>
                        </div>
                        <div class="col-6">
                            <div class=" d-flex flight-duration">
                                <div class="duration me-2">
                                  {{
                                    item.totalDuration
                                      | hourminute
                                  }}
                                </div>
                                <div class="stops">
                                  <div
                                    *ngIf="moreData.stopsNum == 0"
                                  >
                                    ({{ "checkout.summaryCard.direct" | translate }})
                                  </div>
                                  <div
                                    *ngIf="moreData.stopsNum == 1"
                                  >
                                    ({{ "checkout.summaryCard.oneStop" | translate }})
                                  </div>
                                  <div
                                    *ngIf="moreData.stopsNum > 1"
                                  >
                                    ({{ "checkout.summaryCard.twoStops" | translate }})
                                  </div>
                                </div>
                              </div>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-lg-5 col-sm-12 flight-location">
                            {{
                              moreData.flightDTO![0].departureTerminalAirport.airportCode == "XNB"
                                ? "Dubai"
                                : moreData.flightDTO![0].departureTerminalAirport.cityName
                            }}
                            ({{ moreData.flightDTO![0].departureTerminalAirport.airportCode }}) -
                            {{
                              moreData.flightDTO![moreData.flightDTO!.length - 1]
                                .arrivalTerminalAirport.cityName
                            }}
                            
                            ({{
                              moreData.flightDTO![moreData.flightDTO!.length - 1]
                                .arrivalTerminalAirport.airportCode
                            }})
                          </div>
                    </div>
                    <div class="row mt-3">
                        <div class="d-flex align-items-center ">
                            <img
                            class=" me-2 airline-logo "
                            src="{{ moreData.flightAirline!.airlineLogo }}"
                          />
                          <div class="logo-name">{{ moreData.flightAirline!.airlineName }}</div>
                          </div>
                    </div>
                    </div>
                    <div class="sec-flight-container">
                      <div class="second-flight mt-3 " *ngIf="item.allJourney.flights[1] as returnData">
                        <div class="row">
                            <div class="col-6">
                                <div class="flight-time">
                                    {{ returnData.flightDTO![0].departureDate | date : "shortTime" }} -
                                    {{
                                      returnData.flightDTO![returnData.flightDTO!.length - 1].arrivalDate
                                        | date : "shortTime"
                                    }}
                                  </div>
                            </div>
                            <div class="col-6">
                                <div class=" d-flex flight-duration">
                                    <div class="duration me-2">
                                      {{
                                        flight[0].totalDuration
                                          | hourminute
                                      }}
                                    </div>
                                    <div class="stops">
                                      <div
                                        *ngIf="returnData.stopsNum == 0"
                                      >
                                        ({{ "checkout.summaryCard.direct" | translate }})
                                      </div>
                                      <div
                                        *ngIf="returnData.stopsNum == 1"
                                      >
                                        ({{ "checkout.summaryCard.oneStop" | translate }})
                                      </div>
                                      <div
                                        *ngIf="returnData.stopsNum > 1"
                                      >
                                        ({{ "checkout.summaryCard.twoStops" | translate }})
                                      </div>
                                    </div>
                                  </div>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <div class="col-lg-5 col-sm-12 flight-location">
                                {{
                                  returnData.flightDTO![0].departureTerminalAirport.airportCode == "XNB"
                                    ? "Dubai"
                                    : returnData.flightDTO![0].departureTerminalAirport.cityName
                                }}
                                ({{ returnData.flightDTO![0].departureTerminalAirport.airportCode }}) -
                                {{
                                  returnData.flightDTO![returnData.flightDTO!.length - 1]
                                    .arrivalTerminalAirport.cityName
                                }}
                                
                                ({{
                                  returnData.flightDTO![returnData.flightDTO!.length - 1]
                                    .arrivalTerminalAirport.airportCode
                                }})
                              </div>
                        </div>
                        <div class="row mt-3">
                            <div class="d-flex align-items-center ">
                                <img
                                class=" me-2 airline-logo "
                                src="{{ returnData.flightAirline!.airlineLogo }}"
                              />
                              <div class="logo-name">{{ returnData.flightAirline!.airlineName }}</div>
                              </div>
                        </div>
                      </div>
                    </div>

                  </div>
                  
                  <div class="col-lg-3 col-sm-12 col-md-12 right-side-wrapper">
                      <div class="flight-price mt-2">
                          <span>{{item.itinTotalFare.currencyCode | exchange:'code'}}&nbsp;</span>{{item.itinTotalFare.amount | exchange:'value'}}
      
                      </div>
                      <div class="booknow mt-3"  
                     >
                          <button class="btn booknow-btn" (click)="toCheckout(
                            this.FlightResult.searchID,
                            item.sequenceNum,
                            item.pKey
                          )">{{"checkout.bookNow.fastBookBtn" | translate }}</button>
                      </div>
                      <div class="refund-state mt-3">
                          <div *ngIf="item.isRefundable">
                              {{ "checkout.summaryCard.refundable" | translate }}
                            </div>
                            <div *ngIf="!item.isRefundable">
                              {{ "checkout.summaryCard.nonRefundable" | translate }}
                            </div>
                      </div>
      
                  </div>
              </div>
                 
                </mat-card-content>
              </div>
                <div class="card-footer">
                  <div class="card-footer-content">
                    <div class="col-2">
                    </div>
                    
                    <div class="col-lg-2 col-sm-4 flight-details" (click)="toggleMoreDetailsCard(m)">
                            {{ "checkout.summaryCard.flightDetails" | translate }}
                      
                    </div>
                  </div>
                </div>
              
            </mat-card>
            <div *ngIf="showMoreDetails[m] && moreDetailsIndex==m">
              <mat-card class="mt-3 flight_details">
                  <mat-card-content class="card-body">
                    <div class="row justify-content-end">
                      <button type="button" class="btn close-btn" (click)="toggleMoreDetailsCard(m)">
                        <img class="img-fluid" src="../../../../assets/images/X.svg" />
                      </button>
                    </div>
                    
                    <mat-tab-group
                mat-align-tabs="start"
               
                >
                <mat-tab  label="{{'checkout.flightDetails.flightRoute' |translate}}">
                  <div class="flight_route mt-3">
                    <div *ngFor="let data of item.allJourney.flights;
                    let flightIndex=index;">
                    <div class="main-route" >
                   <div class="row w-100"> 
                    <div class="main-date">{{data.flightDTO[0].arrivalDate | date : "mediumDate"}}</div>
                    <div class="col-md-10">
                      <div class="journey">
                        <div class="journey_From">
                          <span class="code">
                            {{
                              data.flightDTO[0].departureTerminalAirport
                                .airportCode
                            }} 
                          </span><span class="date">
                            {{
                              data.flightDTO[0].departureDate
                                | date : "shortTime"
                            }}
                          </span>
                         
                          <p class="airport_name">
                            {{
                              data.flightDTO[0].departureTerminalAirport
                                .airportName
                            }}
                          </p>
                        </div>
      
                        <div class="journey_to">
                          <span class="code">{{
                            data.flightDTO[
                              data.flightDTO.length - 1
                            ].arrivalTerminalAirport.airportCode
                          }}</span> <span class="date">
                            {{
                              data.flightDTO[
                                data.flightDTO.length - 1
                              ].arrivalDate | date : "shortTime"
                            }}
                          </span>
                         
                          <p class="airport_name">
                            {{
                              data.flightDTO[
                                data.flightDTO.length - 1
                              ].arrivalTerminalAirport.airportName
                            }}
                          </p>
                        </div>
                      </div>
                    </div>
      
                    <div class="col-md-2 mt-2 col-sm-8 d-flex justify-content-between">
                      <img
                        src="{{
                          data.flightDTO[0].flightAirline.airlineLogo
                        }}"
                        alt="airline logo"
                        title="airlineLogo"
                        class="airline-logo"
                      />
                      <button class="show-more-button" [class.expanded]="detailsStates[flightIndex]" (click)="detailsCollapse(flightIndex)">
                        <div class="arrow"></div>
                      </button>
                    </div>
                    
                     </div>
                     
                    </div>
                    
                    <hr *ngIf="flight[0].allJourney.flights.length -1  != flightIndex">
                    <div *ngIf="detailsStates[flightIndex]" class="details">
                      <div class="container">
                        <hr *ngIf="flight[0].allJourney.flights.length -1  == flightIndex">
                        <div class="timeline" *ngFor="let flightDetails of flight[0].allJourney.flights[index].flightDTO; let i = index">
                          <div class="dept_data">
                            <div class="row">
                              <div class="col-md-2 col-3">
                                <div class="details_departure_time">
                                  <span class="date">
                                    {{ flightDetails.departureDate | date : "MMM d" }}
                                  </span>
                                  <span class="time">
                                    {{ flightDetails.departureDate | date : "shortTime" }}
                                  </span>
                                </div>
                              </div>
                              <div class="col-1">
                                <div *ngIf="i == 0" >
                                  <img
                                  style="height: 65px;
                                 "
                                    src="../../../../assets/images/topCircleFilled.svg"
                                    class=""
                                    alt=""
                                    srcset=""
                                  />
                                </div>
                                <div *ngIf="i > 0"  >
                                  <img
                                  style="height: 65px;
                                 "
                                    src="../../../../assets/images/topCircleOutlined.svg"
                                    class=""
                                    alt=""
                                    srcset=""
                                  />
                                </div>
                              </div>
                              <div class=" col-8">
                                <div class="airport-name">
                                  {{ flightDetails.departureTerminalAirport.airportName }}
                                </div>
                              </div>
                            </div>
                          </div>
        
                          <div class="flight_data">
                            <div class="row mt-3 mb-3">
                              <div class="col-md-2 col-3">
                                <div class="flight-duration-time">
                                  {{ flightDetails.durationPerLeg | hourminute }}
                                </div>
                              </div>
        
                              <div class="col-1">
                                <div class="plane-icon">
                                  <img
                                    src="../../../../assets/images/plane.svg"
                                    alt=""
                                    class="img"
                                  />
                                </div>
                              </div>
        
                              <div class="col-8 align-self-center">
                                <div class="airport-info">
                                  <div class="row">
                                    <div class="col-12 col-md-12 col-lg-4">
                                      <div class="airline_logo">
                                        <img
                                          [src]="flightDetails.flightAirline.airlineLogo"
                                          class="img-fluid"
                                          alt=""
                                          srcset=""
                                        />
                                      </div>
                                    </div>
                                    <div class="text-start align-self-center col-7  col-md-4 col-lg-4">
                                      <div class="flight-number">
                                        <span class="">{{"checkout.flightDetails.flightNo" | translate}}</span> {{ flightDetails.flightInfo.flightNumber }}
                                      </div>
                                    </div>
                                    <div class="text-start align-self-center col-5 col-md-8 col-lg-4">
                                      <div class="cabin-class">
                                        {{ flightDetails.flightInfo.cabinClass }}
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="operatedAirline" *ngIf="flightDetails.operatedAirline.airlineName"> {{"checkout.flightDetails.operatedBy" | translate}}
                                  {{ flightDetails.operatedAirline.airlineName }}
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="arrival_data">
                            <div class="row">
                              <div class="col-md-2 col-3">
                                <div class="details_arrival_time">
                                  <span class="date">
                                    {{ flightDetails.arrivalDate | date : "MMM d" }}
                                  </span>
                                  <span class="time">
                                    {{ flightDetails.arrivalDate | date : "shortTime" }}
                                  </span>
                                </div>
                              </div>
        
                              <div class="col-1">
                                <div
                                  *ngIf="
                                    i !=
                                    flight[0].allJourney.flights[index].flightDTO
                                      .length -
                                      1
                                  "
                                >
                                  <img  style="height:65px"
                                    src="../../../../assets/images/bottomCircleOutlined.svg"
                                    alt=""
                                    srcset=""
                                  />
                                </div>
        
                                <div
                                  *ngIf="
                                    i ==
                                    flight[0].allJourney.flights[index].flightDTO
                                      .length -
                                      1
                                  "
                                >
                                  <img style="height:65px"
                                    src="../../../../assets/images/bottomCircleFilled.svg"
                                    alt=""
                                    srcset=""
                                  />
                                </div>
                              </div>
                              <div class="col-8">
                                <div class="airport-name">
                                  {{ flightDetails.arrivalTerminalAirport.airportName }}
                                </div>
                              </div>
                            </div>
                          </div>
                          <div
                          class="transit"
                          *ngIf="flightDetails.transitTime != '00:00:00'"
                        >
                          <div class="row">
                            <div class="col-md-2"></div>
                            <div class="col-md-9">
                              <div class="content">
                                {{ "checkout.flightDetails.Stopover" | translate }}
                                {{ flightDetails.transitTime  | durationToHourMin }}
                              </div>
                            </div>
                          </div>
                        </div>
                        </div>
                        <hr *ngIf="flight[0].allJourney.flights.length -1  != flightIndex">
                      </div> 
                      </div>
                    </div>
                    
                  </div>
                </mat-tab>
                <mat-tab  label="{{'checkout.flightDetails.fareRules' |translate}}">
                  <div class="fare-rules w-100">
                    <div class="row mb-2">
                      <div class="col-12 col-md-12 col-lg-6 mb-2">
                        <div class="cancellation">
                          <p class="cancel-text p-3 m-0">
                            {{ "checkout.flightDetails.cancel" | translate }}
                          </p>
                          <div class="content p-3">
                           
                            <ul>
                              <li>
                                {{ "checkout.flightDetails.cancelFareText" | translate }}
                              </li>
                            </ul>
                            <div class="d-flex justify-content-between pt-2">
                              <p>{{ "checkout.flightDetails.fareLabel" | translate }}</p>
                              <p class="text-price">
                                  
                                EGP 500
                              </p>
                            </div>
                          </div>
                        </div>
                      </div>
        
                      <div class="col-12 col-md-12 col-lg-6 mb-2">
                        <div class="cancellation"
                        >
                          <p class="cancel-text p-3 m-0">
                            {{ "checkout.flightDetails.change" | translate }}
                          </p>
                          <div class="content p-3">
                            
                            <ul>
                              <li>
                                {{ "checkout.flightDetails.changeFareText" | translate }}
                              </li>
                            </ul>
                            <div class="d-flex justify-content-between pt-2">
                              <p>{{ "checkout.flightDetails.fareLabel" | translate }}</p>
                              <p class="text-price">
                                EGP 500
                              </p>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </mat-tab>
                <mat-tab  label="{{'checkout.flightDetails.baggage' |translate}}">
                  <div class="baggage">
                    <div class="container">
                      <div class="row mt-3">
                        <div class="col-8 col-md-5 col-lg-5 col-xl-5">
                          <div class="row">
                            <div class="col-6 col-md-3 col-lg-3 col-xl-3">
                              <img
                                src="{{
                                    flight[0].allJourney.flights[index].flightDTO[0].flightAirline
                                    .airlineLogo
                                }}"
                                alt="airline logo"
                                title="airlineLogo"
                                class="airline-logo"
                              />
                            </div>
                            <div class="col-6 col-md-10 col-lg-9 col-xl-9">
                              <p class="airline-name">
                                {{
                                    flight[0].allJourney.flights[index].flightDTO[0].flightAirline
                                    .airlineName
                                }}
                              </p>
                            </div>
                          </div>
                        </div>
                        <div class="col-4 col-md-7 col-lg-7 col-xl-7">
                          <p class="CabinClass">{{"checkout.flightDetails.cabinBaggage" | translate}}</p>
                          <p class="CabinBagg">
                            {{ flight[0].baggageInformation[0].baggage }}
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </mat-tab>
        
        
                  </mat-tab-group>
                  </mat-card-content>
              </mat-card>
            </div>
          </div>
          
        </div>
        </div>
        
</div>
