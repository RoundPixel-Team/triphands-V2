<div class="searchBox">
  <form
    [formGroup]="searchbox.searchFlight"
    [dir]="translate.currentLang == 'ar' ? 'rtl' : 'ltr'"
  >
    <div class="container-fluid">
      <div class="row">
        <ng-container formArrayName="Flights">
          <ng-container
            *ngFor="
              let item of searchbox.flightsArray['controls'] | slice : 0 : 1;
              let i = index
            "
          >
            <ng-container [formGroupName]="0">
              <!-- Depart City -->
              <div class="col-12 col-md-12 col-lg-3">
                <input
                  formControlName="departing"
                  type="text"
                  placeholder="{{ 'searchbox.leaveFrom' | translate }}"
                  aria-label="City"
                  matInput
                  [matAutocomplete]="autoa"
                  #firstD
                  class="searchboxInput"
                />
                <mat-autocomplete #autoa="matAutocomplete">
                  <mat-option *ngFor="let city of cities|filterCity:item.get('departing')!.value|limitTo:5"
                          [value]="city.cityName +','+ city.airportCode" >
                          <span [innerHTML]="city.airportName| highlighter:item.get('departing')!.value"></span> -
                          <span [innerHTML]="city.countryName| highlighter:item.get('departing')!.value"></span> (
                          <span [innerHTML]="city.airportCode| highlighter:item.get('departing')!.value"></span> )
                        </mat-option>
                </mat-autocomplete>
              </div>
              <!-- Land City -->
              <div class="col-12 col-md-12 col-lg-3">
                <input
                  formControlName="landing"
                  type="text"
                  placeholder="{{ 'searchbox.goingTo' | translate }}"
                  aria-label="City"
                  matInput
                  [matAutocomplete]="autob"
                  #firstAr
                  class="searchboxInput"
                />
                <mat-autocomplete #autob="matAutocomplete">
                  <mat-option *ngFor="let city of cities|filterCity:item.get('landing')!.value|limitTo:5"
                          [value]="city.cityName +'('+  city.airportCode +')' ">

                          <span [innerHTML]="city.airportName| highlighter:item.get('landing')!.value"></span> -
                          <span [innerHTML]="city.countryName| highlighter:item.get('landing')!.value"></span> (
                          <span [innerHTML]="city.airportCode| highlighter:item.get('landing')!.value"></span>)
                        </mat-option>
                </mat-autocomplete>
              </div>
              <!-- {{searchbox.flightsArray.at(0).get('departingD')?.value | date:'MMMM dd'}} -->
              <!-- Depart Date -->
              <div class="col-12 col-md-12 col-lg-3">
                <input
                class="searchboxInput"
                placeholder="{{searchbox.flightsArray.at(0).get('departingD')?.value | date:'MMM dd'}}"/>
              </div>
              <ngb-datepicker #dp (dateSelect)="onDateSelection($event)"></ngb-datepicker>
              <!-- Travelers/Class -->
            </ng-container>
          </ng-container>
        </ng-container>
      </div>
    </div>
  </form>
</div>
